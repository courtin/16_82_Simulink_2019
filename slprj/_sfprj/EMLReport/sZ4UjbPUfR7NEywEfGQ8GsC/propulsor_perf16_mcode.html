<html>
<body>
<script src="resources/eml_report_loadable_data.js"></script>
<pre class="code">
<span class="srcline"><span class="lineno"><a href="13,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T1U3">dCJ</span>, <span class="var type1" id="S3T1U4">T</span>, <span class="var type1" id="S4T1U5">CT</span>] = propulsor_perf(<span class="var type1" id="S5T1U8">thr</span>, <span class="var type1" id="S6T13U9">propulsor</span>,<span class="var type1" id="S7T1U10">c</span>, <span class="var type1" id="S8T1U11">alt</span>, <span class="var type1" id="S9T1U12">Vi</span>) </span></span>
<span class="srcline"><span class="lineno"><a href="13,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">%%%%%%%%%%%%%%%%%%%%%%</span></span></span>
<span class="srcline"><span class="lineno"><a href="13,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">%Computes two key propulsor outputs as a function of the throttle setting,</span></span></span>
<span class="srcline"><span class="lineno"><a href="13,4" id="srcline4"> 4</a></span><span class="line"><span class="comment">%aircraft state, and high-level parameters. </span></span></span>
<span class="srcline"><span class="lineno"><a href="13,5" id="srcline5"> 5</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="13,6" id="srcline6"> 6</a></span><span class="line"><span class="comment">%Inputs:    thr         Throttle setting for the propulsor (0-1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="13,7" id="srcline7"> 7</a></span><span class="line"><span class="comment">%           propulsor   propulsor data structure, containing</span></span></span>
<span class="srcline"><span class="lineno"><a href="13,8" id="srcline8"> 8</a></span><span class="line"><span class="comment">%               .eta_v</span></span></span>
<span class="srcline"><span class="lineno"><a href="13,9" id="srcline9"> 9</a></span><span class="line"><span class="comment">%               .eta_add</span></span></span>
<span class="srcline"><span class="lineno"><a href="13,10" id="srcline10">10</a></span><span class="line"><span class="comment">%               .R</span></span></span>
<span class="srcline"><span class="lineno"><a href="13,11" id="srcline11">11</a></span><span class="line"><span class="comment">%           alt         Vehicle altitude</span></span></span>
<span class="srcline"><span class="lineno"><a href="13,12" id="srcline12">12</a></span><span class="line"><span class="comment">%           Vi          Flight speed</span></span></span>
<span class="srcline"><span class="lineno"><a href="13,13" id="srcline13">13</a></span><span class="line"><span class="comment">%           c           wing chord</span></span></span>
<span class="srcline"><span class="lineno"><a href="13,14" id="srcline14">14</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="13,15" id="srcline15">15</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="13,16" id="srcline16">16</a></span><span class="line"><span class="comment">%Compute the thrust/jet velocity of a single propulsor</span></span></span>
<span class="srcline"><span class="lineno"><a href="13,17" id="srcline17">17</a></span><span class="line"><span class="mxinfo " id="T1:U9"><span class="var type1" id="S10T1U15">Pshaft_one</span> = <span class="mxinfo " id="T1:U11"><span class="mxinfo " id="T1:U12"><span class="var type1" id="S6T13U18">propulsor</span>.P_shaft_max</span>*<span class="var type1" id="S5T1U20">thr</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="13,18" id="srcline18">18</a></span><span class="line">[<span class="mxinfo " id="T1:U15">~</span>, <span class="mxinfo " id="T1:U16">~</span>, <span class="var type1" id="S11T1U26">rho</span>] = <span class="fcn" id="F17N9:B28">int_std_atm</span>(<span class="var type1" id="S8T1U29">alt</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="13,19" id="srcline19">19</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="13,20" id="srcline20">20</a></span><span class="line">[<span class="var type1" id="S13T1U33">T_one</span>, <span class="var type1" id="S14T1U34">Vj</span>] = <span class="fcn" id="F71N7:B36">get_motor_T</span>(<span class="var type1" id="S10T1U37">Pshaft_one</span>, <span class="var type1" id="S9T1U38">Vi</span>, <span class="var type1" id="S11T1U39">rho</span>,<span class="var type1" id="S6T13U40">propulsor</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="13,21" id="srcline21">21</a></span><span class="line"><span class="mxinfo " id="T1:U25"><span class="var type1" id="S3T1U43">T</span> = <span class="mxinfo " id="T1:U27"><span class="var type1" id="S13T1U45">T_one</span> * <span class="mxinfo " id="T1:U29"><span class="var type1" id="S6T13U47">propulsor</span>.N</span></span></span>; <span class="comment">%This is just to allow for the case where there</span></span></span>
<span class="srcline"><span class="lineno"><a href="13,22" id="srcline22">22</a></span><span class="line"><span class="comment">%are multiple non-blowers ganged into a single propulsor. </span></span></span>
<span class="srcline"><span class="lineno"><a href="13,23" id="srcline23">23</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="13,24" id="srcline24">24</a></span><span class="line"><span class="comment">%Correct the coefficients for the multiple propulsors distributed across</span></span></span>
<span class="srcline"><span class="lineno"><a href="13,25" id="srcline25">25</a></span><span class="line"><span class="comment">%the span, if required</span></span></span>
<span class="srcline"><span class="lineno"><a href="13,26" id="srcline26">26</a></span><span class="line"><span class="mxinfo " id="T1:U31"><span class="var type1" id="S16T1U51">R</span> = <span class="mxinfo " id="T1:U33"><span class="var type1" id="S6T13U53">propulsor</span>.R</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="13,27" id="srcline27">27</a></span><span class="line"><span class="mxinfo " id="T1:U35"><span class="var type1" id="S17T1U57">rh</span> = <span class="mxinfo " id="T1:U37"><span class="var type1" id="S6T13U59">propulsor</span>.r_hub</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="13,28" id="srcline28">28</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="13,29" id="srcline29">29</a></span><span class="line"><span class="keyword">if</span> <span class="mxinfo " id="T26:U39"><span class="mxinfo " id="T1:U40"><span class="var type1" id="S6T13U65">propulsor</span>.N</span> &gt; <span class="mxinfo " id="T1:U42">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="13,30" id="srcline30">30</a></span><span class="line">    <span class="mxinfo " id="T1:U43"><span class="var type1" id="S18T1U70">b</span> = <span class="mxinfo " id="T1:U45"><span class="var type1" id="S6T13U72">propulsor</span>.b</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="13,31" id="srcline31">31</a></span><span class="line">    <span class="mxinfo " id="T1:U47"><span class="var type1" id="S19T1U76">hd_c</span> = <span class="mxinfo " id="T1:U49">(<span class="mxinfo " id="T1:U50"><span class="mxinfo " id="T1:U51"><span class="mxinfo " id="T1:U52">pi</span>*(<span class="mxinfo " id="T1:U53"><span class="mxinfo " id="T1:U54"><span class="var type1" id="S16T1U86">R</span>^2</span>-<span class="mxinfo " id="T1:U56"><span class="var type1" id="S17T1U89">rh</span>^2</span></span>)</span>*<span class="mxinfo " id="T1:U58"><span class="var type1" id="S6T13U92">propulsor</span>.N</span></span>)/(<span class="mxinfo " id="T1:U60"><span class="var type1" id="S18T1U96">b</span>*<span class="var type1" id="S7T1U97">c</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="13,32" id="srcline32">32</a></span><span class="line">    [<span class="mxinfo " id="T1:U63">~</span>, <span class="mxinfo " id="T1:U64">~</span>, <span class="var type1" id="S2T1U103">dCJ</span>, <span class="var type1" id="S4T1U104">CT</span>, <span class="mxinfo " id="T1:U67">~</span>] = <span class="fcn" id="F80N8:B107">get_wake_coeffs</span>(<span class="var type1" id="S14T1U108">Vj</span>,<span class="var type1" id="S9T1U109">Vi</span>, <span class="var type1" id="S19T1U110">hd_c</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="13,33" id="srcline33">33</a></span><span class="line"><span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="13,34" id="srcline34">34</a></span><span class="line">    <span class="mxinfo " id="T1:U71"><span class="var type1" id="S19T1U114">hd_c</span> = <span class="mxinfo " id="T1:U73"><span class="mxinfo " id="T1:U74"><span class="mxinfo " id="T1:U75">pi</span>*(<span class="mxinfo " id="T1:U76"><span class="mxinfo " id="T1:U77"><span class="var type1" id="S16T1U122">R</span>^2</span>-<span class="mxinfo " id="T1:U79"><span class="var type1" id="S17T1U125">rh</span>^2</span></span>)</span>/(<span class="mxinfo " id="T1:U81"><span class="var type1" id="S16T1U129">R</span>*<span class="var type1" id="S7T1U130">c</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="13,35" id="srcline35">35</a></span><span class="line">    [<span class="mxinfo " id="T1:U84">~</span>, <span class="mxinfo " id="T1:U85">~</span>, <span class="var type1" id="S2T1U136">dCJ</span>, <span class="var type1" id="S4T1U137">CT</span>, <span class="mxinfo " id="T1:U88">~</span>] = <span class="fcn" id="F80N8:B140">get_wake_coeffs</span>(<span class="var type1" id="S14T1U141">Vj</span>,<span class="var type1" id="S9T1U142">Vi</span>, <span class="var type1" id="S19T1U143">hd_c</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="13,36" id="srcline36">36</a></span><span class="line"><span class="keyword"><span class="keyword">end</span></span></span></span>
</pre>
</body>
</html>
