<html>
<body>
<script src="resources/eml_report_loadable_data.js"></script>
<pre class="code">
<span class="srcline"><span class="lineno"><a href="42,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type0" id="S2T0U3">CLde</span>, <span class="var type0" id="S3T0U4">CLq</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="42,2" id="srcline2"> 2</a></span><span class="line">    <span class="var type0" id="S4T0U5">Cmde</span>, <span class="var type0" id="S5T0U6">Cmq</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="42,3" id="srcline3"> 3</a></span><span class="line">    <span class="var type0" id="S6T0U7">CYb</span>, <span class="var type0" id="S7T0U8">CYdA</span>, <span class="var type0" id="S8T0U9">CYdR</span>, <span class="var type0" id="S9T0U10">CYr</span>, <span class="var type0" id="S10T0U11">CYp</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="42,4" id="srcline4"> 4</a></span><span class="line">    <span class="var type0" id="S11T0U12">Clb</span>, <span class="var type0" id="S12T0U13">CldA</span>, <span class="var type0" id="S13T0U14">CldR</span>, <span class="var type0" id="S14T0U15">Clr</span>, <span class="var type0" id="S15T0U16">Clp</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="42,5" id="srcline5"> 5</a></span><span class="line">    <span class="var type0" id="S16T0U17">Cnb</span>, <span class="var type0" id="S17T0U18">CndA</span>, <span class="var type0" id="S18T0U19">CndR</span>, <span class="var type0" id="S19T0U20">Cnr</span>, <span class="var type0" id="S20T0U21">Cnp</span>] = get_JVL_derivatives(<span class="var type1" id="S21T1U24">delta_flap</span>, <span class="var type1" id="S22T1U25">delta_CJ</span>, <span class="var type1" id="S23T5U26">airplane</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="42,6" id="srcline6"> 6</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="42,7" id="srcline7"> 7</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="42,8" id="srcline8"> 8</a></span><span class="line"><span class="mxinfo " id="T23:U4"><span class="var type1" id="S24T23U29">flaps</span> = <span class="mxinfo " id="T23:U6"><span class="mxinfo " id="T22:U7"><span class="var type1" id="S23T5U32">airplane</span>.stability</span>.flap_settings</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="42,9" id="srcline9"> 9</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="42,10" id="srcline10">10</a></span><span class="line"><span class="comment">%Check if the commanded flap setting is valid</span></span></span>
<span class="srcline"><span class="lineno"><a href="42,11" id="srcline11">11</a></span><span class="line"><span class="mxinfo " id="T1:U9"><span class="var type1" id="S25T1U37">df</span> = <span class="var type1" id="S21T1U38">delta_flap</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="42,12" id="srcline12">12</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="42,13" id="srcline13">13</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="42,14" id="srcline14">14</a></span><span class="line"><span class="keyword">if</span> <span class="mxinfo " id="T26:U12">~<span class="mxinfo " id="T26:U13">ismember(<span class="var type1" id="S25T1U44">df</span>, <span class="var type1" id="S24T23U45">flaps</span>, <span class="string">'legacy'</span>)</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="42,15" id="srcline15">15</a></span><span class="line">    <span class="mxinfo " id="T1:U16"><span class="var type1" id="S25T1U49">df</span> = <span class="mxinfo " id="T1:U18">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="42,16" id="srcline16">16</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="42,17" id="srcline17">17</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="42,18" id="srcline18">18</a></span><span class="line"><span class="comment">%Find the index of the commanded flap setting </span></span></span>
<span class="srcline"><span class="lineno"><a href="42,19" id="srcline19">19</a></span><span class="line"><span class="var type0" id="S27T0U53">i</span> = <span class="message error" id="M6F81C">find(<span class="mxinfo " id="T49:U19"><span class="var type1" id="S24T23U57">flaps</span>==<span class="var type1" id="S25T1U58">df</span></span>,<span class="mxinfo " id="T1:U22">1</span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="42,20" id="srcline20">20</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="42,21" id="srcline21">21</a></span><span class="line"><span class="comment">%Get the correct value from the table</span></span></span>
<span class="srcline"><span class="lineno"><a href="42,22" id="srcline22">22</a></span><span class="line"><span class="var type0" id="S2T0U62">CLde</span>    = <span class="mxinfo " id="T23:U23"><span class="mxinfo " id="T22:U24"><span class="var type1" id="S23T5U66">airplane</span>.stability</span>.CLde</span>(<span class="var type0" id="S27T0U69"><span class="message error" id="M7F81C">i</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="42,23" id="srcline23">23</a></span><span class="line"><span class="var type0" id="S3T0U72">CLq</span>     = <span class="mxinfo " id="T23:U26"><span class="mxinfo " id="T22:U27"><span class="var type1" id="S23T5U76">airplane</span>.stability</span>.CLq</span>(<span class="var type0" id="S27T0U79"><span class="message error" id="M8F81C">i</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="42,24" id="srcline24">24</a></span><span class="line"><span class="var type0" id="S4T0U82">Cmde</span>    = <span class="mxinfo " id="T23:U29"><span class="mxinfo " id="T22:U30"><span class="var type1" id="S23T5U86">airplane</span>.stability</span>.Cmde</span>(<span class="var type0" id="S27T0U89"><span class="message error" id="M9F81C">i</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="42,25" id="srcline25">25</a></span><span class="line"><span class="var type0" id="S5T0U92">Cmq</span>     = <span class="mxinfo " id="T23:U32"><span class="mxinfo " id="T22:U33"><span class="var type1" id="S23T5U96">airplane</span>.stability</span>.Cmq</span>(<span class="var type0" id="S27T0U99"><span class="message error" id="M10F81C">i</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="42,26" id="srcline26">26</a></span><span class="line"><span class="var type0" id="S6T0U102">CYb</span>     = <span class="mxinfo " id="T23:U35"><span class="mxinfo " id="T22:U36"><span class="var type1" id="S23T5U106">airplane</span>.stability</span>.CYB</span>(<span class="var type0" id="S27T0U109"><span class="message error" id="M11F81C">i</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="42,27" id="srcline27">27</a></span><span class="line"><span class="var type0" id="S7T0U112">CYdA</span>     = <span class="mxinfo " id="T23:U38"><span class="mxinfo " id="T22:U39"><span class="var type1" id="S23T5U116">airplane</span>.stability</span>.CYdA</span>(<span class="var type0" id="S27T0U119"><span class="message error" id="M12F81C">i</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="42,28" id="srcline28">28</a></span><span class="line"><span class="var type0" id="S8T0U122">CYdR</span>     = <span class="mxinfo " id="T23:U41"><span class="mxinfo " id="T22:U42"><span class="var type1" id="S23T5U126">airplane</span>.stability</span>.CYdR</span>(<span class="var type0" id="S27T0U129"><span class="message error" id="M13F81C">i</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="42,29" id="srcline29">29</a></span><span class="line"><span class="var type0" id="S9T0U132">CYr</span>     = <span class="mxinfo " id="T23:U44"><span class="mxinfo " id="T22:U45"><span class="var type1" id="S23T5U136">airplane</span>.stability</span>.CYr</span>(<span class="var type0" id="S27T0U139"><span class="message error" id="M14F81C">i</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="42,30" id="srcline30">30</a></span><span class="line"><span class="var type0" id="S10T0U142">CYp</span>     = <span class="mxinfo " id="T23:U47"><span class="mxinfo " id="T22:U48"><span class="var type1" id="S23T5U146">airplane</span>.stability</span>.CYp</span>(<span class="var type0" id="S27T0U149"><span class="message error" id="M15F81C">i</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="42,31" id="srcline31">31</a></span><span class="line"><span class="var type0" id="S11T0U152">Clb</span>     = <span class="mxinfo " id="T23:U50"><span class="mxinfo " id="T22:U51"><span class="var type1" id="S23T5U156">airplane</span>.stability</span>.ClB</span>(<span class="var type0" id="S27T0U159"><span class="message error" id="M16F81C">i</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="42,32" id="srcline32">32</a></span><span class="line"><span class="var type0" id="S12T0U162">CldA</span>     = <span class="mxinfo " id="T23:U53"><span class="mxinfo " id="T22:U54"><span class="var type1" id="S23T5U166">airplane</span>.stability</span>.CldA</span>(<span class="var type0" id="S27T0U169"><span class="message error" id="M17F81C">i</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="42,33" id="srcline33">33</a></span><span class="line"><span class="var type0" id="S13T0U172">CldR</span>     = <span class="mxinfo " id="T23:U56"><span class="mxinfo " id="T22:U57"><span class="var type1" id="S23T5U176">airplane</span>.stability</span>.CldR</span>(<span class="var type0" id="S27T0U179"><span class="message error" id="M18F81C">i</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="42,34" id="srcline34">34</a></span><span class="line"><span class="var type0" id="S14T0U182">Clr</span>     = <span class="mxinfo " id="T23:U59"><span class="mxinfo " id="T22:U60"><span class="var type1" id="S23T5U186">airplane</span>.stability</span>.Clr</span>(<span class="var type0" id="S27T0U189"><span class="message error" id="M19F81C">i</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="42,35" id="srcline35">35</a></span><span class="line"><span class="var type0" id="S15T0U192">Clp</span>     = <span class="mxinfo " id="T23:U62"><span class="mxinfo " id="T22:U63"><span class="var type1" id="S23T5U196">airplane</span>.stability</span>.Clp</span>(<span class="var type0" id="S27T0U199"><span class="message error" id="M20F81C">i</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="42,36" id="srcline36">36</a></span><span class="line"><span class="var type0" id="S16T0U202">Cnb</span>     = <span class="mxinfo " id="T23:U65"><span class="mxinfo " id="T22:U66"><span class="var type1" id="S23T5U206">airplane</span>.stability</span>.CnB</span>(<span class="var type0" id="S27T0U209"><span class="message error" id="M21F81C">i</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="42,37" id="srcline37">37</a></span><span class="line"><span class="var type0" id="S17T0U212">CndA</span>     = <span class="mxinfo " id="T23:U68"><span class="mxinfo " id="T22:U69"><span class="var type1" id="S23T5U216">airplane</span>.stability</span>.CndA</span>(<span class="var type0" id="S27T0U219"><span class="message error" id="M22F81C">i</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="42,38" id="srcline38">38</a></span><span class="line"><span class="var type0" id="S18T0U222">CndR</span>     = <span class="mxinfo " id="T23:U71"><span class="mxinfo " id="T22:U72"><span class="var type1" id="S23T5U226">airplane</span>.stability</span>.CndR</span>(<span class="var type0" id="S27T0U229"><span class="message error" id="M23F81C">i</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="42,39" id="srcline39">39</a></span><span class="line"><span class="var type0" id="S19T0U232">Cnr</span>     = <span class="mxinfo " id="T23:U74"><span class="mxinfo " id="T22:U75"><span class="var type1" id="S23T5U236">airplane</span>.stability</span>.Cnr</span>(<span class="var type0" id="S27T0U239"><span class="message error" id="M24F81C">i</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="42,40" id="srcline40">40</a></span><span class="line"><span class="var type0" id="S20T0U242">Cnp</span>     = <span class="mxinfo " id="T23:U77"><span class="mxinfo " id="T22:U78"><span class="var type1" id="S23T5U246">airplane</span>.stability</span>.Cnp</span>(<span class="var type0" id="S27T0U249"><span class="message error" id="M25F81C">i</span></span>);</span></span>
</pre>
</body>
</html>
