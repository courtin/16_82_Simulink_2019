function state_plot(stateHistory,VinfHistory,forceHistory, momentHistory)


t = stateHistory.Time;


U = stateHistory.Data(:,1);
V = stateHistory.Data(:,5);
W = stateHistory.Data(:,2);

phi = stateHistory.Data(:,8);
theta = stateHistory.Data(:,4);
psi = stateHistory.Data(:,9);

p = stateHistory.Data(:,6);
q = stateHistory.Data(:,3);
r = stateHistory.Data(:,7);

Xe = stateHistory.Data(:,10);
Ye = stateHistory.Data(:,11);
Ze = -stateHistory.Data(:,12);

Vinf = VinfHistory.Data(:,1);
alpha = VinfHistory.Data(:,2);
beta  = VinfHistory.Data(:,3);

X 



figure

%location
ax1=subplot(2,3,1);
plot(t,Xe,t,Ye,t,Ze)
legend('Xe','Ye','Ze')
grid on
title('Position')

ax2=subplot(2,3,2);
plot(t,U,t,V,t,W)
legend('U','V','W')
grid on
title('Velocity (Body)')

ax3=subplot(2,3,3);
plot(t,Vinf)
grid on
title('Vinf')

ax4=subplot(2,3,4);
plot(t,phi,t,theta,t,psi)
legend('phi','theta','psi')
grid on
title('orientation')

ax5=subplot(2,3,5);
plot(t,p,t,q,t,r)
legend('p','q','r')
grid on
title('rotation rate')

ax6=subplot(2,3,6);
plot(t,alpha,t,beta)
legend('alpha','beta')
grid on
title('free stream angle')


linkaxes([ax1,ax2,ax3,ax4,ax5,ax6],'x')
